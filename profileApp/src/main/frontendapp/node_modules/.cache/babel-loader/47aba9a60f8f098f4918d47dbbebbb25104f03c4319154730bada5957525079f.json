{"ast":null,"code":"import{memo,useState}from\"react\";import{Stack,Modal,ModalOverlay,ModalContent,ModalHeader,ModalCloseButton,ModalBody,FormControl,FormLabel,Input}from\"@chakra-ui/react\";import{PrimaryButton}from\"../../atoms/button/PrimaryButton\";import{useNavigate}from\"react-router-dom\";import{useMessage}from\"../../../hooks/useMessage\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const EmployeeDetailModal=/*#__PURE__*/memo(props=>{const{employee,isOpen,onClose}=props;const navigate=useNavigate();const{showMessage}=useMessage();const[loading,setLoading]=useState(false);//API送信関数\nconst handleSubmit=async e=>{setLoading(true);e.preventDefault();await axios.post(\"/api/delete\",{employeeId:employee.employeeId}).then(res=>{if(res.status===200){showMessage({title:\"削除が完了しました\",status:\"info\"});navigate(\"/home\");}else{showMessage({title:\"削除が出来ませんでした\",status:\"error\"});setLoading(false);}}).catch(()=>{showMessage({title:\"削除が出来ませんでした\",status:\"error\"});setLoading(false);});};return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onClose:onClose,autoFocus:false,motionPreset:\"slideInBottom\",children:/*#__PURE__*/_jsx(ModalOverlay,{children:/*#__PURE__*/_jsxs(ModalContent,{padding:6,children:[/*#__PURE__*/_jsx(ModalHeader,{children:\"\\u5F93\\u696D\\u54E1\\u8A73\\u7D30\"}),/*#__PURE__*/_jsx(ModalCloseButton,{}),/*#__PURE__*/_jsxs(ModalBody,{mx:4,children:[/*#__PURE__*/_jsx(Stack,{spacing:4,children:/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u540D\\u524D\"}),/*#__PURE__*/_jsx(Input,{value:employee===null||employee===void 0?void 0:employee.employeeName,isReadOnly:true}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u30D5\\u30EB\\u30CD\\u30FC\\u30E0\"}),/*#__PURE__*/_jsx(Input,{value:employee===null||employee===void 0?void 0:employee.employeeFullName,isReadOnly:true})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u8DA3\\u5473\"}),/*#__PURE__*/_jsx(Input,{value:employee===null||employee===void 0?void 0:employee.hobbies,isReadOnly:true})]})]})}),/*#__PURE__*/_jsx(PrimaryButton,{children:\"削除\",onClick:handleSubmit})]})]})})});});","map":{"version":3,"names":["memo","useState","Stack","Modal","ModalOverlay","ModalContent","ModalHeader","ModalCloseButton","ModalBody","FormControl","FormLabel","Input","PrimaryButton","useNavigate","useMessage","axios","jsx","_jsx","jsxs","_jsxs","EmployeeDetailModal","props","employee","isOpen","onClose","navigate","showMessage","loading","setLoading","handleSubmit","e","preventDefault","post","employeeId","then","res","status","title","catch","autoFocus","motionPreset","children","padding","mx","spacing","value","employeeName","isReadOnly","employeeFullName","hobbies","onClick"],"sources":["/home/yoshintm/React/react-type-script-webapp/src/components/organisms/employee/EmployeeDetailModal.tsx"],"sourcesContent":["import { FC, FormEvent, memo, useState } from \"react\";\r\nimport {\r\n  Stack,\r\n  Modal,\r\n  ModalOverlay,\r\n  ModalContent,\r\n  ModalHeader,\r\n  ModalCloseButton,\r\n  ModalBody,\r\n  FormControl,\r\n  FormLabel,\r\n  Input,\r\n} from \"@chakra-ui/react\";\r\nimport { Employee } from \"../../../types/api/Employee\";\r\nimport { PrimaryButton } from \"../../atoms/button/PrimaryButton\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useMessage } from \"../../../hooks/useMessage\";\r\nimport axios from \"axios\";\r\nimport { useAllEmployees } from \"../../../hooks/useAllEmployees\";\r\n\r\ntype Props = {\r\n  employee: Employee | null;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n};\r\n\r\nexport const EmployeeDetailModal: FC<Props> = memo((props) => {\r\n  const { employee, isOpen, onClose } = props;\r\n  const navigate = useNavigate();\r\n  const { showMessage } = useMessage();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  //API送信関数\r\n  const handleSubmit = async (e: FormEvent) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    await axios\r\n      .post(\"/api/delete\", {\r\n        employeeId: employee.employeeId,\r\n      })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          showMessage({ title: \"削除が完了しました\", status: \"info\" });\r\n          navigate(\"/home\")\r\n        } else {\r\n          showMessage({ title: \"削除が出来ませんでした\", status: \"error\" });\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        showMessage({ title: \"削除が出来ませんでした\", status: \"error\" });\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      autoFocus={false}\r\n      motionPreset=\"slideInBottom\"\r\n    >\r\n      <ModalOverlay>\r\n        <ModalContent padding={6}>\r\n          <ModalHeader>従業員詳細</ModalHeader>\r\n          <ModalCloseButton />\r\n          <ModalBody mx={4}>\r\n            <Stack spacing={4}>\r\n              <FormControl>\r\n                <FormLabel>名前</FormLabel>\r\n                <Input value={employee?.employeeName} isReadOnly />\r\n                <FormControl>\r\n                  <FormLabel>フルネーム</FormLabel>\r\n                  <Input value={employee?.employeeFullName} isReadOnly />\r\n                </FormControl>\r\n                <FormControl>\r\n                  <FormLabel>趣味</FormLabel>\r\n                  <Input value={employee?.hobbies} isReadOnly />\r\n                </FormControl>\r\n              </FormControl>\r\n            </Stack>\r\n            <PrimaryButton children={\"削除\"} onClick={handleSubmit} />\r\n          </ModalBody>\r\n        </ModalContent>\r\n      </ModalOverlay>\r\n    </Modal>\r\n  );\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}