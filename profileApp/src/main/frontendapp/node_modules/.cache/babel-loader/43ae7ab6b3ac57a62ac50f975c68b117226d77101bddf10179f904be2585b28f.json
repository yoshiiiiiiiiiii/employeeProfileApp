{"ast":null,"code":"import{useCallback,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const LoginAdmin=()=>{console.log(\"LoginAdmin\");const navigate=useNavigate();const[userId,setUserId]=useState(\"\");const[password,setPassword]=useState(\"\");const[statusNgFlag,setStatusNgFlag]=useState(false);const onChangeUserId=useCallback(e=>setUserId(e.target.value),[]);const onChangePassword=e=>setPassword(e.target.value);//API送信関数\nconst handleSubmit=async e=>{e.preventDefault();console.log(\"ログインボタンがクリックされました\");try{console.log(\"APIを送信します\");const responce=await axios.post(\"/api/loginAdmin\",{userId:userId,password:password});console.log(responce);console.log(\"管理者一覧画面に遷移します\");navigate(\"/adminInfoList/\".concat(userId));}catch(e){setStatusNgFlag(true);console.log(\"Error:\",e);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u7BA1\\u7406\\u8005\\u30ED\\u30B0\\u30A4\\u30F3\\u753B\\u9762\"}),statusNgFlag&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:\"\\u30E6\\u30FC\\u30B6ID\\u307E\\u305F\\u306F\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u304C\\u9593\\u9055\\u3063\\u3066\\u3044\\u307E\\u3059\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u30E6\\u30FC\\u30B6ID\",name:\"userId\",value:userId,onChange:onChangeUserId}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",name:\"password\",value:password,onChange:onChangePassword}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"TOP\\u3078\\u623B\\u308B\"})]});};","map":{"version":3,"names":["useCallback","useState","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","LoginAdmin","console","log","navigate","userId","setUserId","password","setPassword","statusNgFlag","setStatusNgFlag","onChangeUserId","e","target","value","onChangePassword","handleSubmit","preventDefault","responce","post","concat","children","style","color","onSubmit","type","placeholder","name","onChange","to"],"sources":["/home/yoshintm/React/react-type-script-webapp/src/components/LoginAdmin.tsx"],"sourcesContent":["import {\r\n  ChangeEvent,\r\n  FormEvent,\r\n  SetStateAction,\r\n  useCallback,\r\n  useState,\r\n} from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport const LoginAdmin: React.FC = () => {\r\n  console.log(\"LoginAdmin\");\r\n  const navigate = useNavigate();\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [statusNgFlag, setStatusNgFlag] = useState(false);\r\n\r\n  const onChangeUserId = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => setUserId(e.target.value),\r\n    []\r\n  );\r\n  const onChangePassword = (e: React.ChangeEvent<HTMLInputElement>) =>\r\n    setPassword(e.target.value);\r\n\r\n  //API送信関数\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    console.log(\"ログインボタンがクリックされました\");\r\n    try {\r\n      console.log(\"APIを送信します\");\r\n      const responce = await axios.post(\"/api/loginAdmin\", {\r\n        userId: userId,\r\n        password: password,\r\n      });\r\n      console.log(responce);\r\n      console.log(\"管理者一覧画面に遷移します\");\r\n      navigate(`/adminInfoList/${userId}`);\r\n    } catch (e) {\r\n      setStatusNgFlag(true);\r\n      console.log(\"Error:\", e);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>管理者ログイン画面</h1>\r\n      {statusNgFlag && (\r\n        <span style={{ color: \"red\" }}>\r\n          ユーザIDまたはパスワードが間違っています\r\n        </span>\r\n      )}\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"ユーザID\"\r\n          name=\"userId\"\r\n          value={userId}\r\n          onChange={onChangeUserId}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"パスワード\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={onChangePassword}\r\n        />\r\n        <button type=\"submit\">ログイン</button>\r\n      </form>\r\n      <Link to=\"/\">TOPへ戻る</Link>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"AAAA,OAIEA,WAAW,CACXC,QAAQ,KACH,OAAO,CACd,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,MAAO,MAAM,CAAAC,UAAoB,CAAGA,CAAA,GAAM,CACxCC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,CACzB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAAkB,cAAc,CAAGnB,WAAW,CAC/BoB,CAAsC,EAAKN,SAAS,CAACM,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACrE,EACF,CAAC,CACD,KAAM,CAAAC,gBAAgB,CAAIH,CAAsC,EAC9DJ,WAAW,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAE7B;AACA,KAAM,CAAAE,YAAY,CAAG,KAAO,CAAAJ,CAAkB,EAAK,CACjDA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBf,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChC,GAAI,CACFD,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CACxB,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,CAAC,iBAAiB,CAAE,CACnDd,MAAM,CAAEA,MAAM,CACdE,QAAQ,CAAEA,QACZ,CAAC,CAAC,CACFL,OAAO,CAACC,GAAG,CAACe,QAAQ,CAAC,CACrBhB,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAC5BC,QAAQ,mBAAAgB,MAAA,CAAmBf,MAAM,CAAE,CAAC,CACtC,CAAE,MAAOO,CAAC,CAAE,CACVF,eAAe,CAAC,IAAI,CAAC,CACrBR,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAES,CAAC,CAAC,CAC1B,CACF,CAAC,CAED,mBACEZ,KAAA,QAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,CAAI,wDAAS,CAAI,CAAC,CACjBZ,YAAY,eACXX,IAAA,SAAMwB,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAC,sHAE/B,CAAM,CACP,cACDrB,KAAA,SAAMwB,QAAQ,CAAER,YAAa,CAAAK,QAAA,eAC3BvB,IAAA,UACE2B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,sBAAO,CACnBC,IAAI,CAAC,QAAQ,CACbb,KAAK,CAAET,MAAO,CACduB,QAAQ,CAAEjB,cAAe,CAC1B,CAAC,cACFb,IAAA,QAAK,CAAC,cACNA,IAAA,UACE2B,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,gCAAO,CACnBC,IAAI,CAAC,UAAU,CACfb,KAAK,CAAEP,QAAS,CAChBqB,QAAQ,CAAEb,gBAAiB,CAC5B,CAAC,cACFjB,IAAA,WAAQ2B,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,0BAAI,CAAQ,CAAC,EAC/B,CAAC,cACPvB,IAAA,CAACJ,IAAI,EAACmC,EAAE,CAAC,GAAG,CAAAR,QAAA,CAAC,uBAAM,CAAM,CAAC,EACvB,CAAC,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}