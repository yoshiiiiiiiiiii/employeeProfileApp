{"ast":null,"code":"import{useCallback,useEffect}from\"react\";import{memo}from\"react\";import{Center,Spinner,Wrap,WrapItem,useDisclosure}from\"@chakra-ui/react\";import{EmployeeCard}from\"../organisms/employee/EmployeeCard\";import{useAllEmployees}from\"../../hooks/useAllEmployees\";import{useSelectEmployee}from\"../../hooks/useSelectEmployee\";import{HeaderOnly}from\"../templates/layout/HeaderOnly\";import{EmployeeDetailModal}from\"../organisms/employee/EmployeeDetailModal\";import{useRecoilState}from\"recoil\";import{EmployeeAdminState,EmployeeState}from\"../../contexts/EmployeeState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const EmployeeInfoList=/*#__PURE__*/memo(()=>{const{isOpen,onClose,onOpen}=useDisclosure();const{getEmployees,employees,loading}=useAllEmployees();const{onSelectEmployee,selectedEmployee}=useSelectEmployee();const[employeeState,setEmployeeState]=useRecoilState(EmployeeState);const[employeeAdminState,setEmployeeAdminState]=useRecoilState(EmployeeAdminState);useEffect(()=>{getEmployees();},[]);const onClickEmployee=useCallback(id=>{onSelectEmployee({id,employees,onOpen});},[employees]);const sortEmployeeList=[...employees].sort((a,b)=>{if(a.employeeId<b.employeeId)return-1;if(a.employeeId>b.employeeId)return 1;return 0;});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderOnly,{children:\"\"}),loading?/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Spinner,{})}):/*#__PURE__*/_jsx(Wrap,{p:{base:4,md:10},children:sortEmployeeList.map(employee=>/*#__PURE__*/_jsx(WrapItem,{mx:\"auto\",children:/*#__PURE__*/_jsx(EmployeeCard,{id:employee.employeeId,image:employee.image,employeeName:employee.employeeName,fullName:employee.employeeFullName,onClick:onClickEmployee})},employee.employeeId))}),/*#__PURE__*/_jsx(EmployeeDetailModal,{employee:selectedEmployee,isOpen:isOpen,onClose:onClose,id:employeeState,isAdmin:employeeAdminState})]});});","map":{"version":3,"names":["useCallback","useEffect","memo","Center","Spinner","Wrap","WrapItem","useDisclosure","EmployeeCard","useAllEmployees","useSelectEmployee","HeaderOnly","EmployeeDetailModal","useRecoilState","EmployeeAdminState","EmployeeState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","EmployeeInfoList","isOpen","onClose","onOpen","getEmployees","employees","loading","onSelectEmployee","selectedEmployee","employeeState","setEmployeeState","employeeAdminState","setEmployeeAdminState","onClickEmployee","id","sortEmployeeList","sort","a","b","employeeId","children","p","base","md","map","employee","mx","image","employeeName","fullName","employeeFullName","onClick","isAdmin"],"sources":["/home/yoshintm/React/react-type-script-webapp/src/components/pages/EmployeeInfoList.tsx"],"sourcesContent":["import { useCallback, useEffect } from \"react\";\r\nimport { FC, memo } from \"react\";\r\nimport {\r\n  Center,\r\n  Spinner,\r\n  Wrap,\r\n  WrapItem,\r\n  useDisclosure,\r\n} from \"@chakra-ui/react\";\r\n\r\nimport { EmployeeCard } from \"../organisms/employee/EmployeeCard\";\r\nimport { useAllEmployees } from \"../../hooks/useAllEmployees\";\r\nimport { useSelectEmployee } from \"../../hooks/useSelectEmployee\";\r\nimport { HeaderOnly } from \"../templates/layout/HeaderOnly\";\r\nimport { EmployeeDetailModal } from \"../organisms/employee/EmployeeDetailModal\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  EmployeeAdminState,\r\n  EmployeeState,\r\n} from \"../../contexts/EmployeeState\";\r\n\r\nexport const EmployeeInfoList: FC = memo(() => {\r\n  const { isOpen, onClose, onOpen } = useDisclosure();\r\n  const { getEmployees, employees, loading } = useAllEmployees();\r\n  const { onSelectEmployee, selectedEmployee } = useSelectEmployee();\r\n  const [employeeState, setEmployeeState] = useRecoilState(EmployeeState);\r\n  const [employeeAdminState, setEmployeeAdminState] =\r\n    useRecoilState(EmployeeAdminState);\r\n\r\n  useEffect(() => {\r\n    getEmployees();\r\n  }, []);\r\n\r\n  const onClickEmployee = useCallback(\r\n    (id: string) => {\r\n      onSelectEmployee({ id, employees, onOpen });\r\n    },\r\n    [employees]\r\n  );\r\n\r\n  const sortEmployeeList = [...employees].sort((a, b) => {\r\n    if (a.employeeId < b.employeeId) return -1;\r\n    if (a.employeeId > b.employeeId) return 1;\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <HeaderOnly children={\"\"} />\r\n      {loading ? (\r\n        <Center>\r\n          <Spinner />\r\n        </Center>\r\n      ) : (\r\n        <Wrap p={{ base: 4, md: 10 }}>\r\n          {sortEmployeeList.map((employee) => (\r\n            <WrapItem key={employee.employeeId} mx={\"auto\"}>\r\n              <EmployeeCard\r\n                id={employee.employeeId}\r\n                image={employee.image}\r\n                employeeName={employee.employeeName}\r\n                fullName={employee.employeeFullName}\r\n                onClick={onClickEmployee}\r\n              />\r\n            </WrapItem>\r\n          ))}\r\n        </Wrap>\r\n      )}\r\n      <EmployeeDetailModal\r\n        employee={selectedEmployee}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        id={employeeState}\r\n        isAdmin={employeeAdminState}\r\n      />\r\n    </>\r\n  );\r\n});\r\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,SAAS,KAAQ,OAAO,CAC9C,OAAaC,IAAI,KAAQ,OAAO,CAChC,OACEC,MAAM,CACNC,OAAO,CACPC,IAAI,CACJC,QAAQ,CACRC,aAAa,KACR,kBAAkB,CAEzB,OAASC,YAAY,KAAQ,oCAAoC,CACjE,OAASC,eAAe,KAAQ,6BAA6B,CAC7D,OAASC,iBAAiB,KAAQ,+BAA+B,CACjE,OAASC,UAAU,KAAQ,gCAAgC,CAC3D,OAASC,mBAAmB,KAAQ,2CAA2C,CAC/E,OAASC,cAAc,KAAQ,QAAQ,CACvC,OACEC,kBAAkB,CAClBC,aAAa,KACR,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtC,MAAO,MAAM,CAAAC,gBAAoB,cAAGpB,IAAI,CAAC,IAAM,CAC7C,KAAM,CAAEqB,MAAM,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAGlB,aAAa,CAAC,CAAC,CACnD,KAAM,CAAEmB,YAAY,CAAEC,SAAS,CAAEC,OAAQ,CAAC,CAAGnB,eAAe,CAAC,CAAC,CAC9D,KAAM,CAAEoB,gBAAgB,CAAEC,gBAAiB,CAAC,CAAGpB,iBAAiB,CAAC,CAAC,CAClE,KAAM,CAACqB,aAAa,CAAEC,gBAAgB,CAAC,CAAGnB,cAAc,CAACE,aAAa,CAAC,CACvE,KAAM,CAACkB,kBAAkB,CAAEC,qBAAqB,CAAC,CAC/CrB,cAAc,CAACC,kBAAkB,CAAC,CAEpCb,SAAS,CAAC,IAAM,CACdyB,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,eAAe,CAAGnC,WAAW,CAChCoC,EAAU,EAAK,CACdP,gBAAgB,CAAC,CAAEO,EAAE,CAAET,SAAS,CAAEF,MAAO,CAAC,CAAC,CAC7C,CAAC,CACD,CAACE,SAAS,CACZ,CAAC,CAED,KAAM,CAAAU,gBAAgB,CAAG,CAAC,GAAGV,SAAS,CAAC,CAACW,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACrD,GAAID,CAAC,CAACE,UAAU,CAAGD,CAAC,CAACC,UAAU,CAAE,MAAO,CAAC,CAAC,CAC1C,GAAIF,CAAC,CAACE,UAAU,CAAGD,CAAC,CAACC,UAAU,CAAE,MAAO,EAAC,CACzC,MAAO,EAAC,CACV,CAAC,CAAC,CAEF,mBACEpB,KAAA,CAAAF,SAAA,EAAAuB,QAAA,eACEzB,IAAA,CAACN,UAAU,EAAC+B,QAAQ,CAAE,EAAG,CAAE,CAAC,CAC3Bd,OAAO,cACNX,IAAA,CAACd,MAAM,EAAAuC,QAAA,cACLzB,IAAA,CAACb,OAAO,GAAE,CAAC,CACL,CAAC,cAETa,IAAA,CAACZ,IAAI,EAACsC,CAAC,CAAE,CAAEC,IAAI,CAAE,CAAC,CAAEC,EAAE,CAAE,EAAG,CAAE,CAAAH,QAAA,CAC1BL,gBAAgB,CAACS,GAAG,CAAEC,QAAQ,eAC7B9B,IAAA,CAACX,QAAQ,EAA2B0C,EAAE,CAAE,MAAO,CAAAN,QAAA,cAC7CzB,IAAA,CAACT,YAAY,EACX4B,EAAE,CAAEW,QAAQ,CAACN,UAAW,CACxBQ,KAAK,CAAEF,QAAQ,CAACE,KAAM,CACtBC,YAAY,CAAEH,QAAQ,CAACG,YAAa,CACpCC,QAAQ,CAAEJ,QAAQ,CAACK,gBAAiB,CACpCC,OAAO,CAAElB,eAAgB,CAC1B,CAAC,EAPWY,QAAQ,CAACN,UAQd,CACX,CAAC,CACE,CACP,cACDxB,IAAA,CAACL,mBAAmB,EAClBmC,QAAQ,CAAEjB,gBAAiB,CAC3BP,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBY,EAAE,CAAEL,aAAc,CAClBuB,OAAO,CAAErB,kBAAmB,CAC7B,CAAC,EACF,CAAC,CAEP,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}