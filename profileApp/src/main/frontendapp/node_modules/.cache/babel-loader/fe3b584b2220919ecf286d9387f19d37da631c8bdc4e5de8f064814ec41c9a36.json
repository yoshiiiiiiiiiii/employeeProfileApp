{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useCallback, useState } from \"react\";\nimport { useMessage } from \"./useMessage\";\nimport { useNavigate } from \"react-router-dom\";\n/**\r\n * 社員情報を更新するカスタムフック\r\n * @returns updateProfile:社員情報更新処理 loading:処理中判定\r\n */\nexport const useEditProfile = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    showMessage\n  } = useMessage();\n  const [loading, setLoading] = useState(false);\n  const updateProfile = useCallback(async props => {\n    const {\n      imageFile,\n      employeeId,\n      employeeName,\n      employeeFullName,\n      hobbies\n    } = props;\n    const formData = new FormData();\n    formData.append(\"image\", imageFile);\n    formData.append(\"employeeId\", employeeId);\n    formData.append(\"employeeName\", employeeName);\n    formData.append(\"employeeFullName\", employeeFullName);\n    formData.append(\"hobbies\", hobbies);\n    await axios.post(\"/api/editProfile\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(() => {\n      showMessage({\n        title: \"更新が完了しました\",\n        status: \"success\"\n      });\n      navigate(\"/home/setting\");\n    }).catch(() => {\n      showMessage({\n        title: \"更新に失敗しました\",\n        status: \"error\"\n      });\n    });\n  }, []);\n  return {\n    updateProfile,\n    loading\n  };\n};\n_s(useEditProfile, \"xoMLKYsBXx8agYITzSg5m22q7SI=\", false, function () {\n  return [useNavigate, useMessage];\n});","map":{"version":3,"names":["axios","useCallback","useState","useMessage","useNavigate","useEditProfile","_s","navigate","showMessage","loading","setLoading","updateProfile","props","imageFile","employeeId","employeeName","employeeFullName","hobbies","formData","FormData","append","post","headers","then","title","status","catch"],"sources":["/home/yoshintm/React/react-type-script-webapp/src/hooks/useEditProfile.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { useMessage } from \"./useMessage\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\ntype Props = {\r\n  imageFile: any;\r\n  employeeId: string;\r\n  employeeName: string;\r\n  employeeFullName: string;\r\n  hobbies: string;\r\n};\r\n\r\n/**\r\n * 社員情報を更新するカスタムフック\r\n * @returns updateProfile:社員情報更新処理 loading:処理中判定\r\n */\r\nexport const useEditProfile = () => {\r\n  const navigate = useNavigate();\r\n  const { showMessage } = useMessage();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const updateProfile = useCallback(async (props: Props) => {\r\n    const { imageFile, employeeId, employeeName, employeeFullName, hobbies } =\r\n      props;\r\n    const formData = new FormData();\r\n    formData.append(\"image\", imageFile);\r\n    formData.append(\"employeeId\", employeeId);\r\n    formData.append(\"employeeName\", employeeName);\r\n    formData.append(\"employeeFullName\", employeeFullName);\r\n    formData.append(\"hobbies\", hobbies);\r\n\r\n    await axios\r\n      .post(\"/api/editProfile\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then(() => {\r\n        showMessage({ title: \"更新が完了しました\", status: \"success\" });\r\n        navigate(\"/home/setting\");\r\n      })\r\n      .catch(() => {\r\n        showMessage({ title: \"更新に失敗しました\", status: \"error\" });\r\n      });\r\n  }, []);\r\n\r\n  return { updateProfile, loading };\r\n};\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAU9C;AACA;AACA;AACA;AACA,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAMC,QAAQ,GAAGH,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEI;EAAY,CAAC,GAAGL,UAAU,CAAC,CAAC;EACpC,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMS,aAAa,GAAGV,WAAW,CAAC,MAAOW,KAAY,IAAK;IACxD,MAAM;MAAEC,SAAS;MAAEC,UAAU;MAAEC,YAAY;MAAEC,gBAAgB;MAAEC;IAAQ,CAAC,GACtEL,KAAK;IACP,MAAMM,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEP,SAAS,CAAC;IACnCK,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEN,UAAU,CAAC;IACzCI,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAEL,YAAY,CAAC;IAC7CG,QAAQ,CAACE,MAAM,CAAC,kBAAkB,EAAEJ,gBAAgB,CAAC;IACrDE,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEH,OAAO,CAAC;IAEnC,MAAMjB,KAAK,CACRqB,IAAI,CAAC,kBAAkB,EAAEH,QAAQ,EAAE;MAClCI,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CACDC,IAAI,CAAC,MAAM;MACVf,WAAW,CAAC;QAAEgB,KAAK,EAAE,WAAW;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC;MACtDlB,QAAQ,CAAC,eAAe,CAAC;IAC3B,CAAC,CAAC,CACDmB,KAAK,CAAC,MAAM;MACXlB,WAAW,CAAC;QAAEgB,KAAK,EAAE,WAAW;QAAEC,MAAM,EAAE;MAAQ,CAAC,CAAC;IACtD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEd,aAAa;IAAEF;EAAQ,CAAC;AACnC,CAAC;AAACH,EAAA,CA/BWD,cAAc;EAAA,QACRD,WAAW,EACJD,UAAU;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}