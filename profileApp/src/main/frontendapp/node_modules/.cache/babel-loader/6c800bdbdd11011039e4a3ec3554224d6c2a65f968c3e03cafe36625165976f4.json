{"ast":null,"code":"import{memo,useState}from\"react\";import{Stack,Modal,ModalOverlay,ModalContent,ModalHeader,ModalCloseButton,ModalBody,FormControl,FormLabel,Input}from\"@chakra-ui/react\";import{PrimaryButton}from\"../../atoms/button/PrimaryButton\";import{useNavigate}from\"react-router-dom\";import{useMessage}from\"../../../hooks/useMessage\";import{useRecoilState}from\"recoil\";import{EmployeeState}from\"../../../contexts/EmployeeState\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const EmployeeDetailModal=/*#__PURE__*/memo(props=>{const{employee,isOpen,onClose}=props;const navigate=useNavigate();const{showMessage}=useMessage();const[loading,setLoading]=useState(false);const[employeeState,setEmployeeState]=useRecoilState(EmployeeState);//API送信関数\nconst handleSubmit=async e=>{setLoading(true);e.preventDefault();await axios.post(\"/api/delete\",{employeeId:employeeState}).then(res=>{if(res.status===200){showMessage({title:\"削除が完了しました\",status:\"info\"});navigate(\"/home/employeeInfoList\");}else{showMessage({title:\"削除が出来ませんでした\",status:\"error\"});setLoading(false);}}).catch(()=>{showMessage({title:\"削除が出来ませんでした\",status:\"error\"});setLoading(false);});};return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onClose:onClose,autoFocus:false,motionPreset:\"slideInBottom\",children:/*#__PURE__*/_jsx(ModalOverlay,{children:/*#__PURE__*/_jsxs(ModalContent,{padding:6,children:[/*#__PURE__*/_jsx(ModalHeader,{children:\"\\u5F93\\u696D\\u54E1\\u8A73\\u7D30\"}),/*#__PURE__*/_jsx(ModalCloseButton,{}),/*#__PURE__*/_jsxs(ModalBody,{mx:4,children:[/*#__PURE__*/_jsx(Stack,{spacing:4,children:/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u540D\\u524D\"}),/*#__PURE__*/_jsx(Input,{value:employee===null||employee===void 0?void 0:employee.employeeName,isReadOnly:true}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u30D5\\u30EB\\u30CD\\u30FC\\u30E0\"}),/*#__PURE__*/_jsx(Input,{value:employee===null||employee===void 0?void 0:employee.employeeFullName,isReadOnly:true})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u8DA3\\u5473\"}),/*#__PURE__*/_jsx(Input,{value:employee===null||employee===void 0?void 0:employee.hobbies,isReadOnly:true})]})]})}),/*#__PURE__*/_jsx(PrimaryButton,{children:\"削除\",onClick:handleSubmit})]})]})})});});","map":{"version":3,"names":["memo","useState","Stack","Modal","ModalOverlay","ModalContent","ModalHeader","ModalCloseButton","ModalBody","FormControl","FormLabel","Input","PrimaryButton","useNavigate","useMessage","useRecoilState","EmployeeState","axios","jsx","_jsx","jsxs","_jsxs","EmployeeDetailModal","props","employee","isOpen","onClose","navigate","showMessage","loading","setLoading","employeeState","setEmployeeState","handleSubmit","e","preventDefault","post","employeeId","then","res","status","title","catch","autoFocus","motionPreset","children","padding","mx","spacing","value","employeeName","isReadOnly","employeeFullName","hobbies","onClick"],"sources":["/home/yoshintm/React/react-type-script-webapp/src/components/organisms/employee/EmployeeDetailModal.tsx"],"sourcesContent":["import { FC, FormEvent, memo, useState } from \"react\";\r\nimport {\r\n  Stack,\r\n  Modal,\r\n  ModalOverlay,\r\n  ModalContent,\r\n  ModalHeader,\r\n  ModalCloseButton,\r\n  ModalBody,\r\n  FormControl,\r\n  FormLabel,\r\n  Input,\r\n  Button,\r\n} from \"@chakra-ui/react\";\r\nimport { Employee } from \"../../../types/api/Employee\";\r\nimport { PrimaryButton } from \"../../atoms/button/PrimaryButton\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useMessage } from \"../../../hooks/useMessage\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport {\r\n  EmployeeAdminState,\r\n  EmployeeState,\r\n} from \"../../../contexts/EmployeeState\";\r\nimport axios from \"axios\";\r\n\r\ntype Props = {\r\n  employee: Employee | null;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n};\r\n\r\nexport const EmployeeDetailModal: FC<Props> = memo((props) => {\r\n  const { employee, isOpen, onClose } = props;\r\n  const navigate = useNavigate();\r\n  const { showMessage } = useMessage();\r\n  const [loading, setLoading] = useState(false);\r\n  const [employeeState, setEmployeeState] = useRecoilState(EmployeeState);\r\n\r\n  //API送信関数\r\n  const handleSubmit = async (e: FormEvent) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    await axios\r\n      .post(\"/api/delete\", {\r\n        employeeId: employeeState,\r\n      })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          showMessage({ title: \"削除が完了しました\", status: \"info\" });\r\n          navigate(\"/home/employeeInfoList\");\r\n        } else {\r\n          showMessage({ title: \"削除が出来ませんでした\", status: \"error\" });\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        showMessage({ title: \"削除が出来ませんでした\", status: \"error\" });\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      autoFocus={false}\r\n      motionPreset=\"slideInBottom\"\r\n    >\r\n      <ModalOverlay>\r\n        <ModalContent padding={6}>\r\n          <ModalHeader>従業員詳細</ModalHeader>\r\n          <ModalCloseButton />\r\n          <ModalBody mx={4}>\r\n            <Stack spacing={4}>\r\n              <FormControl>\r\n                <FormLabel>名前</FormLabel>\r\n                <Input value={employee?.employeeName} isReadOnly />\r\n                <FormControl>\r\n                  <FormLabel>フルネーム</FormLabel>\r\n                  <Input value={employee?.employeeFullName} isReadOnly />\r\n                </FormControl>\r\n                <FormControl>\r\n                  <FormLabel>趣味</FormLabel>\r\n                  <Input value={employee?.hobbies} isReadOnly />\r\n                </FormControl>\r\n              </FormControl>\r\n            </Stack>\r\n            <PrimaryButton children={\"削除\"} onClick={handleSubmit} />\r\n          </ModalBody>\r\n        </ModalContent>\r\n      </ModalOverlay>\r\n    </Modal>\r\n  );\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}